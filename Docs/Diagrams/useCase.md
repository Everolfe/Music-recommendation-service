# Диаграмма вариантов использования

![Диаграмма вариантов использования](https://github.com/DanutaGagua/Personal-film-collection-manager/blob/master/Diagrams/Images/UseCase.png) 
  
# Глоссарий

| Термин                          | Определение                                                                                         |
| :------------------------------ | :-------------------------------------------------------------------------------------------------- |
| Пользователь                    | Человек, использующий приложение для поиска, прослушивания и оценки музыкальных треков              |
| Гость                           | Пользователь, который использует приложение без регистрации                                         |
| Зарегистрированный пользователь | Пользователь, авторизованный в системе, имеющий персональные данные, историю прослушиваний и оценки |
| Внешняя музыкальная база        | Внешний API (например, MusicBrainz, Last.fm), откуда приложение получает недостающие метаданные     |
| Коллекция                       | Личная музыкальная библиотека пользователя, состоящая из добавленных треков                         |
| Рекомендации                    | Список треков, автоматически подобранный системой на основе предпочтений и оценок пользователя      |
| Плейлист                        | Список музыкальных треков, созданный пользователем вручную                                          |
  
# Поток событий 

# Содержание
1 [Актёры](#actors)  
2 [Варианты использования](#use_case)  
2.1 [Войти в свою учётную запись](#sign_in_to_your_account)  
2.2 [Зарегистрироваться](#sign_up)    
2.3 [Войти как посетитель](#sign_in_as_visitor)  
2.4 [Поиск музыки](#view_music_list)  
2.5 [Просмотр информации о треке](#find_music_in_list)  
2.6 [Воспроизведение трека](#play_music)  
2.7 [Оценить трек](#rate_music)     
2.8 [Получить рекомендации](#get_recs)  
2.9 [Создать плейлист](#create_playlist)   
2.10 [Редактировать или удалить плейлист](#edit_or_del_playlist)  
2.11 [Выйти из учетной записи](#sign_out_of_your_account)  

<a name="actors"/>

# 1 Актёры

| Актёр                                  | Описание                                                                                                        |
| :------------------------------------- | :-------------------------------------------------------------------------------------------------------------- |
| Посетитель                             | Пользователь, который использует приложение без регистрации                                                     |
| Зарегистрированный пользователь        | Пользователь, который вошёл в систему под своей учётной записью                                                 |
| Внешняя музыкальная база (Last.fm API) | Внешний источник данных, откуда приложение получает информацию о треках, альбомах, исполнителях и рекомендациях |

<a name="use_case"/>

# 2 Варианты использования

<a name="sign_in_to_your_account"/>

## 2.1 Войти в свою учётную запись

**Описание.** Позволяет пользователю войти в существующую учётную запись. 
**Предусловия.** Пользователь выбрал “Вход” на экране приветствия.
**Основной поток.**
1. Приложение отображает форму входа;
2. Пользователь вводит логин и пароль;
3. Система проверяет корректность данных;
4. При успешной проверке присваивается статус “зарегистрированный пользователь”;
5. Открывается главная страница;
6. Приложение скрывает окно входа в учётную запись;
7. Вариант использования завершается.

**Дополнительная информация.** В случае неккоректности данных выполняется альтернативный поток А1.

**Альтернативный поток А1.**
1. Если данные неверны, система сообщает об ошибке.;
2. Вариант использования завершается досрочно.

**Постусловия.** Выполняется вариант использования "[Поиск музыки](#view_music_list)".

<a name="sign_up"/>

## 2.2 Зарегистрироваться

**Описание.** Вариант использования "Зарегистрироваться" позволяет пользователю создать свою учётную запись в приложении.  
**Предусловия.** Пользователь выбрал способ "Sign up" для входа в приложение или посетитель выразил желание зарегистрироваться в приложении, выбрав пункт меню "Sign up".  
**Основной поток.**
1. Приложение отображает окно регистрации, в котором запрашивает у пользователя ввод имени;
2. Пользователь вводит имя, email;
3. Система проверяет уникальность email. Если совпадение выявлено, выполняется альтернативный поток А2;
4. При успешной проверке создаётся профиль пользователя;
5. Приложение открывает главную страницу.

**Альтернативный поток А2.**
1. Приложение сообщает пользователю, что пользователь с таким emali уже существует;
2. Приложение запрашивает у пользователя ввод другого email;
3. Возврат к п.2 основного потока.

<a name="sign_in_as_visitor"/>

## 2.3 Войти как посетитель

**Описание.** Вариант использования "Войти как посетитель" позволяет пользователю войти в приложение без регистрации.  
**Предусловия.** Пользователь выбрал способ "Sign in as a visitor" для входа в приложение.  
**Основной поток.**
1. Система присваивает статус “гость”;
2. Пользователь получает доступ к ограниченным функциям (поиск, прослушивание).

<a name="view_music_list"/>

## 2.4 Поиск музыки

**Описание.** Позволяет пользователю искать музыкальные треки по названию, исполнителю или альбому. 
**Предусловия.** Пользователь находится в главном окне приложения.
**Основной поток.**
1. Пользователь вводит запрос в строку поиска;
2. Приложение отправляет запрос к Last.fm API, если список пуст,  выполняется альтернативный поток А3 или A4;
3. При получении данных отображается список найденных треков;
4. Пользователь выбирает нужный трек; 
3. Вариант использования завершается.

**Альтернативный поток А3.**
1. Если соединение отсутствует — отображается сообщение об ошибке сети; 
2. Вариант использования завершается.


**Альтернативный поток А4.**
1. Если треки не найдены — сообщение “Not found”; 
2. Вариант использования завершается.

<a name="find_music_in_list"/>

## 2.5 Просмотр информации о треке

**Описание.** Отображает подробные данные о выбранном музыкальном произведении..  
**Предусловия.** Пользователь выбрал трек из списка.  
**Основной поток.**
1. Приложение получает данные о треке через API;
2. Отображает информацию: название, исполнитель, альбом, жанр, год, длительность;
3. При наличии — отображает обложку альбома;
4. При отсутствии информации, выполняется поток ошибки E1; 
4. Вариант использования завершается.

**Поток ошибки E1.**
1. Нет подключения к интернету — выводится сообщение “No connection”.; 
2. Вариант использования завершается.

**Постусловия.** Пользователь может добавить трек в коллекцию (если зарегистрирован)..

<a name="play_music"/>

## 2.6 Воспроизведение трека

**Описание.** Позволяет пользователю прослушать выбранный трек (локально или через поток).  
**Предусловия.** Пользователь выбрал трек с доступным источником.  
**Основной поток.**
1. Пользователь нажимает “Play”;
2. Приложение начинает воспроизведение аудио, если вознакает не получается воспроизвести, выполняется альтернативный поток A5;
3. Пользователь может поставить на паузу или остановить;
4. Вариант использования завершается.

**Альтернативный поток A5.**
1. Если файл недоступен — приложение сообщает об ошибке воспроизведения.; 
2. Вариант использования завершается.

<a name="rate_music"/>

## 2.7 Оценить трек

**Описание.** Зарегистрированный пользователь может оценить композицию.  
**Предусловия.** Пользователь вошёл в систему.  
**Основной поток.**
1. Пользователь выбирает трек;
2. Устанавливает оценку (например, по шкале 1–5);
3. Приложение сохраняет оценку в базе данных;
4. Вариант использования завершается.

**Постусловия.** Оценка влияет на генерацию рекомендаций.


<a name="get_recs"/>

## 2.8 Получить рекомендации

**Описание.** Отображает список треков, рекомендованных пользователю.  
**Предусловия.** Зарегистрированный пользователь вошёл в систему.  
**Основной поток.**
1. Приложение обращается к Last.fm API для получения рекомендаций;
2. Отображает подборку треков на основе истории и оценок, если не отображается выполняется альтернативный поток А6;
3. Пользователь может добавить треки из рекомендаций в коллекцию;
4. Вариант использования завершается.

**Альтернативный поток А6.**
1. Нет подключения — отображается сохранённый список прошлых рекомендаций;
2. Вариант использования завершается.

<a name="create_playlist"/>

## 2.9 Создать плейлист

**Описание.** Позволяет пользователю сформировать собственный плейлист.  
**Предусловия.** Пользователь вошёл в систему.  
**Основной поток.**
1. Пользователь выбирает “Create playlist”;
2. Вводит название;
3. Добавляет выбранные треки из коллекции;
4. Приложение сохраняет плейлист; 
5. Вариант использования завершается. 

<a name="edit_or_del_playlist"/>

## 2.10 Редактировать или удалить плейлист

**Описание.** Позволяет изменять содержимое или удалять плейлист.  
**Предусловия.** Пользователь вошёл в систему и открыл плейлист.  
**Основной поток.**
1. Пользователь выбирает “Edit” или “Delete”;
2. Приложение выполняет соответствующее действие;
3. Отображает обновлённый список плейлистов;
4. Вариант использования завершается.

<a name="sign_out_of_your_account"/>

## 2.10 Выйти из учетной записи

**Описание.** Позволяет безопасно завершить сеанс пользователя.  
**Предусловия.** Пользователь вошёл в систему и открыл плейлист.  
**Основной поток.**
1. Пользователь выбирает “Edit” или “Delete”;
2. Приложение выполняет соответствующее действие;
3. Отображает обновлённый список плейлистов;
4. Вариант использования завершается.

4. Вариант использования завершается.